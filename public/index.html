<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>SandCastle</title>
  
</head>
<body>
  <script src="../src/pixi.min.js"></script>
  <script>
    // Aliases
    let Application = PIXI.Application,
        Container = PIXI.Container,
        loader = PIXI.loader,
        resources = PIXI.loader.resources,
        TextureCache = PIXI.utils.TextureCache,
        Sprite = PIXI.Sprite;

    //Create a Pixi Application
    let app = new PIXI.Application({
      width: 256,
      height: 256,
      antialiasing: true,
      transparent: false,
      resolution: 1
    });

    document.body.appendChild(app.view);

    loader
      .add("images/cat.png")
      .load(setup);

    var cat, state;

    function setup() {
      cat = new Sprite(resources["images/cat.png"].texture);
      cat.y = 96;
      cat.vx = 0;
      cat.vy = 0;
      app.stage.addChild(cat);

      let left = keyboard(37),
          up = keyboard(38),
          right = keyboard(39),
          down = keyboard(40);

      left.press = () => {
        cat.vx = -5;
        cat.vy = 0;
      };
      left.release = () => {
        if(!right.isDown && cat.vy === 0) {
          cat.vx = 0;
        }
      }
    }
  </script>
</body>
</html>
